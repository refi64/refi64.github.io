<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Functional programming isn't the answer to all problems (and neither is OOP) | BlockByte</title>

    
            <link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">

    
            <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">

      <link rel="canonical" href="http://kirbyfan64.github.io/posts/functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.html">



    
        <!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->

    


    

    <meta name="author" content="Ryan Gonzalez">
    
        <meta name="og:title" content="Functional programming isn't the answer to all problems (and neither i">
        <meta name="og:url" content="http://kirbyfan64.github.io/posts/functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.html">
            <meta name="og:description" content="I like functional programming. Being a big fan of Python and C++, it took a while to get used to functional languages like Haskell and Felix (my personal favorite FP language). I started out with Lear">
        <meta name="og:site_name" content="BlockByte">
        <meta name="og:type" content="article">

    

    



</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://kirbyfan64.github.io/">

                <span id="blog-title">BlockByte</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Randomness<b class="caret"></b></a>
            <ul class="dropdown-menu">
                    <li>
<a href="../pages/randomness.html">Index</a>
                    </li>
<li>
<a href="../pages/katex.html">KaTeX Previewer</a>
            </li>
</ul>

                
            </li>
</ul>

            <ul class="nav navbar-nav navbar-right">
                
                
                    
    <li>
    <a href="functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.rst" id="sourcelink">Source</a>
    </li>

                
            </ul>
        </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
    
    <header>
        
    <h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Functional programming isn't the answer to all problems (and neither is OOP)</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Ryan Gonzalez</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2015-05-17T16:59:00-05:00" itemprop="datePublished" title="Publication date">2015-05-17 16:59</time></a></p>
                <p class="commentline">
        
    <a href="functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.html#disqus_thread" data-disqus-identifier="cache/posts/functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.rst" id="sourcelink">Source</a></p>

        </div>
        

    </header>

    <div class="e-content entry-content" itemprop="articleBody text">
    <p>I like functional programming. Being a big fan of Python and C++, it took a while to get used to functional languages like Haskell and Felix (my personal favorite FP language). I started out with <em>Learn You a Haskell for Great Good!</em> and then started toying with OCaml and Felix. I stuck with Felix and ditched OCaml because I just didn't like it.</p>
<p>However, it isn't the solution to the world's issues. People used to think OOP was the solution to everything. They started shoving every freaking thing on earth in a class and adding useless methods. Then they realized that Java sucked. Now, everyone seems to think that FP is going to take over the world. I disagree. Why?</p>
<!-- TEASER_END -->
<div class="section" id="certain-programs-are-easier-to-extend-with-oop">
<h2>Certain programs are easier to extend with OOP</h2>
<p>I <em>love</em> Norman Ramsey's Stack Overflow answers because they're from a functional programming advocate who knows that it's not the solution to all issues. Take his answer to <a class="reference external" href="http://stackoverflow.com/a/2079678/2097780">Functional programming vs Object Oriented programming</a>. Basically, OOP languages are good when the operations on things stay the same, and you just add new things. Functional languages are good when the things stay the same and you're constantly adding new operations.</p>
<p>It has bitten me several times in functional languages before when I forgot to update a pattern match someone to make up for a new field in my algebraic data type. Same thing for OOP: I've had problems when adding new algorithms/transformations on OOP objects and end up forgetting something somewhere, only to get a 200-template error message about instantiating some ABC somewhere (C++) or a <tt class="docutils literal">NotImplementedError</tt> (Python). Neither paradigm solves both issues.</p>
<p>IMO, build systems are good with OOP. You tend to add support for, say, extra C++ compilers more than you add a new compilation command (how many different ways to do the same thing are there?).</p>
</div>
<div class="section" id="it-can-be-hard-to-predict-performance">
<h2>It can be hard to predict performance</h2>
<p>This is more an issue with lazy languages (e.g. Haskell) and tracing JITs (like PyPy) than strict languages (like C++, Felix, and ML).</p>
<p>Basically, it's hard to predict how a program will perform. This innocent function:</p>
<pre class="code haskell literal-block">
<span class="nf">f</span> <span class="ow">=</span> <span class="n">foldl1</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span>
</pre>
<p>will explode if given a list too long; the stack will be exhausted. Or it will just take forever. You need to use <tt class="docutils literal">foldl1'</tt> in that case, which is strict.</p>
<p>In imperative programming, this isn't even a problem:</p>
<pre class="code c++ literal-block">
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="mi">10000000</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">accumulate</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">plus</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">{})</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre>
<p>I had this code in all:</p>
<p>Haskell:</p>
<pre class="code haskell literal-block">
<span class="nf">f</span> <span class="ow">=</span> <span class="n">foldl1</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="n">print</span> <span class="o">.</span> <span class="n">f</span> <span class="o">$</span> <span class="n">replicate</span> <span class="mi">10000000</span> <span class="mi">1</span>
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">I know about <tt class="docutils literal">sum</tt>, but using it distracts from the point of this whole post.</p>
</div>
<p>C++:</p>
<pre class="code c++ literal-block">
<span class="cp">#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="mi">10000000</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">accumulate</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">plus</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">())</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre>
<p>The Haskell version gives a stack overflow after 1.7 seconds. Changing <tt class="docutils literal">foldl1</tt> to <tt class="docutils literal">foldl1'</tt> fixes it, but it still takes 0.184s. C++ version? 0.022s.</p>
<p>Now, I'm not saying that Haskell is slow; it can actually be quite fast. I'm just saying that it can be hard to predict performance, where your stack will explode, or where you can blow threw several gigs of RAM.</p>
<p>It's worth saying again that this is only really bad for lazy languages, so Felix and OCaml shouldn't suffer from it as badly. Rust also doesn't suffer from it; the program I wrote took 0.04s.</p>
<p><strong>EDIT:</strong> As @kuribas pointed out in the comments, the Haskell example seems to be inferred to use unbounded integers. Let's try using bounded ones:</p>
<pre class="code haskell literal-block">
<span class="nf">f</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="n">foldl1'</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span>
</pre>
<p>This finishes in 1.7s on my (not-too-fast) computer. He also pointed out that using <tt class="docutils literal">Data.Vector</tt> instead made it faster than the C++ version:</p>
<pre class="code haskell literal-block">
<span class="kr">import</span> <span class="k">qualified</span> <span class="nn">Data.Vector</span> <span class="k">as</span> <span class="n">V</span>

<span class="nf">f</span> <span class="ow">::</span> <span class="kt">V</span><span class="o">.</span><span class="kt">Vector</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">f</span> <span class="ow">=</span> <span class="kt">V</span><span class="o">.</span><span class="n">foldl1'</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="n">print</span> <span class="o">.</span> <span class="n">f</span> <span class="o">$</span> <span class="kt">V</span><span class="o">.</span><span class="n">replicate</span> <span class="mi">10000000</span> <span class="mi">1</span>
</pre>
<p>This actually took a whopping 1.08s on my laptop. Ouch!</p>
</div>
<div class="section" id="it-s-not-magic">
<h2>It's not magic</h2>
<p>I keep saying it: it's not going to make everyone happy, create world peace, make Windows actually work, and make you 6 meals a day. I like FP for certain situations. Haskell is fun (and makes you feel smart!), Felix is just awesome, and Rust is neat.</p>
<p>Same thing goes for OOP. I'm not going to try to tackle those issues because 20k blog posts already have.</p>
<p>I'm not bashing FP; I'm just saying it isn't perfect. Everyone loves it right now. In 20 years, someone's going to find something wrong. Then everyone's going to hate it and start using <a class="reference external" href="http://evincarofautumn.blogspot.com/2012/02/why-concatenative-programming-matters.html">concatenative programming</a>. Until everyone realizes it sucks and starts using the true source of happiness: <a class="reference external" href="http://en.wikipedia.org/wiki/Brainfuck">tape-based programming</a>.</p>
</div>
<div class="section" id="what-about-mixing-them">
<h2>What about mixing them?</h2>
<p>This is hard. In the end, one is always going to be better supported than the other.</p>
<p>For instance, you can write FP-like programs in Python. But Python has a rich object system, not a pattern-matching system. Therefore, Python seems to lean towards OOP. Same thing for C++.</p>
<p>Felix has objects, but they end up compiling down to closures. In reality, Felix leans towards FP.</p>
<p>Scala ends up leaning towards OOP, if not just because most of the Java libraries you'll end up using from Scala use classes.</p>
<p>Some languages that claim that they use FP, like K, seem to be more procedural in nature, too.</p>
<p>Again, there's no perfect answer. If programming was a solved problem, I'm not sure what would happen, because we haven't reached that point, and we probably never will.</p>
<p>Also, I'm not saying that moving forward like this is bad. Imagine what would happen if we were still writing everything in COBOL and Fortran!</p>
<p>But it's just not all cut out. Trying to mix them perfectly doesn't work out, either...</p>
<p><a class="reference external" href="https://youtu.be/kCHVW65YLJs?t=36s">IT'S NO USE!!!!</a></p>
<p><strong>EDIT:</strong> Apparently, this post is very controversial:</p>
<img alt="https://dl-web.dropbox.com/get/contr_web.png?_subject_uid=200677686&amp;w=AABUq-WzkWaCgzQmcibavrxBqBnnqHFlvPwDBDMTDnVEZQ&amp;dl=1" src="https://dl-web.dropbox.com/get/contr_web.png?_subject_uid=200677686&amp;w=AABUq-WzkWaCgzQmcibavrxBqBnnqHFlvPwDBDMTDnVEZQ&amp;dl=1">
<p>:/</p>
</div>
    </div>
    <aside class="postpromonav">
    <nav>
    

    
        <ul class="pager">
            <li class="previous">
                <a href="the-top-5-programming-languages-youve-never-heard-of-part-2.html" rel="prev" title="The top 5 programming languages you've never heard of (part 2)">Previous post</a>
            </li>
            <li class="next">
                <a href="the-magic-of-rpython.html" rel="next" title="The Magic of RPython">Next post</a>
            </li>
        </ul>

    </nav>
    </aside>
        <section class="comments">
        <h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="blockbyte",
            disqus_url="http://kirbyfan64.github.io/posts/functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.html",
        disqus_title="Functional programming isn't the answer to all problems (and neither is OOP)",
        disqus_identifier="cache/posts/functional-programming-isnt-the-answer-to-all-problems-and-neither-is-oop.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section>
    

</article>

        
       <script>var disqus_shortname="blockbyte";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>



        </div>
        <!--End of body content-->

        <footer>
            Contents © 2015         <a href="mailto:rymg19@gmail.com">Ryan Gonzalez</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
    </div>
</div>


            <script src="../assets/js/all-nocdn.js"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55018880-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
