<vue-module id="site-suffix">
  <script src="/bower_components/better-share-button/dist/share-button.js">
  </script>

  <link rel="stylesheet"
        href="/bower_components/better-share-button/dist/share-button.css">
  <link rel="stylesheet" href="//cdn.muut.com/1/moot.css">
  <script src="//cdn.muut.com/1/moot.min.js"></script>
  <link rel="import" href="google-analytics.html">

  <style>
  .site-suffix share-button {
    display: inline-block !important;
    margin-top: 1em;
  }
  </style>

  <template>
    <div style="text-align: center;">
      <share-button ref="share">
      </share-button>

      <p>
        Really liked what you saw? Show your appreciation:
        <span>
          <a href="bitcoin:148qYocMHL3ai3YM8oSakkxscauNQBd14R">
            148qYocMHL3ai3YM8oSakkxscauNQBd14R</a>
          <md-tooltip md-direction="bottom">
            QR code:
            <embedded-image url="/bitcoin.png"></embedded-image>
          </md-tooltip>
        </span>
      </p>
    </div>

    <div id="comments"></div>
    <a ref="comments" type="dynamic">Loading comments...</a>

    <google-analytics></google-analytics>
  </template>

  <script>
    Vue.module('site-suffix', {
      mounted: function () {
        new ShareButton();

        var url = 'https://muut.com/i/blockbyte/general:' +
                      muut.urlify(document.title) +
                      // XXX: Don't ask.
                      '\0\0\0\0\0\0\0\0\0\0';
        $(this.$refs.comments).muut(url);
      },

      once: true,
    });
  </script>
</vue-module>
