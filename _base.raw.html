<head>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
  <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
  <script src="https://unpkg.com/vue-material"></script>
  <link rel="stylesheet" href="https://unpkg.com/vue-material/dist/vue-material.css">
  <script src="bower_components/vue-module/vue-module.js"></script>
  <script> Vue.use(VueModule); Vue.use(VueMaterial); </script>

  <link rel="stylesheet" href="bower_components/prism/themes/prism-tomorrow.css">
  <script src="bower_components/prism/prism.js"></script>
  <script src="bower_components/prism/components/prism-python.min.js"></script>
  <script src="bower_components/prism/components/prism-c.min.js"></script>
  <script src="bower_components/prism/components/prism-cpp.min.js"></script>
  <script src="bower_components/prism/components/prism-crystal.min.js"></script>
  <script src="bower_components/prism/components/prism-yaml.min.js"></script>
  <script src="bower_components/prism/components/prism-nim.min.js"></script>
  <script src="bower_components/prism/components/prism-haskell.min.js"></script>

  <link rel="import" href="elements/if-mobile.html">
  <link rel="import" href="elements/site-title.html">
  <link rel="import" href="elements/site-navbar.html">
  <link rel="import" href="elements/post-list.html">
  <link rel="import" href="elements/generic-card.html">
  <link rel="import" href="elements/warning-card.html">
  <link rel="import" href="elements/note-card.html">
  <link rel="import" href="elements/site-suffix.html">
  <link rel="import" href="elements/site-tags.html">
  <link rel="import" href="/elements/tag-list.html">
  <link rel="import" href="elements/link-header.html">
  <link rel="import" href="elements/prism-js.html">
  <link rel="import" href="elements/embedded-image.html">
  <link rel="import" href="elements/embedded-video.html">
  <link rel="import" href="/elements/math-preview.html">
  <link rel="import" href="elements/google-analytics.html">

  <style>
    a, a:visited:not(.md-button) { text-decoration: none; color: mediumblue; }
    a:hover:not(.md-button) { text-decoration: underline; color: mediumblue; }
    body #page { margin: 0 1em 1em 1em; }
    .site-navbar { margin: 0 -1em; }
  </style>

  <script>
    document.addEventListener('WebComponentsReady', function () {
      Vue.config.ignoredElements = ['share-button'];

      Vue.material.registerTheme('main', {
        primary: 'indigo',
        accent: { color: 'blue', hue: 900 },
        warn: 'red',
        background: 'white',
      });
      Vue.material.setCurrentTheme('main');

      new Vue({
        el: '#page',

        methods: {
          scroll: function () {
            if (window.location.hash && window.location.hash[0] == '#') {
              var target = $(window.location.hash);
              if (target[0])
                $('body').animate({ scrollTop: target.offset().top });
            }
          },
        },

        mounted: function () {
          var scroll = this.scroll.bind(this);
          scroll();
          $(window).on('hashchange', scroll);
        },
      });
    });

    function getPosts(context, func) {
      $.ajax({
        url: '/posts.json',
        context: context,
        dataType: 'json',
      }).done(func);
    };

    function getPost(context, url, func) {
      $.ajax({
        url: url,
        context: context,
        dataType: 'html',
      }).done(function (postText) {
        var post = $('<div>').append($(postText));
        func.call(this, post);
      });
    }
  </script>
</head>
